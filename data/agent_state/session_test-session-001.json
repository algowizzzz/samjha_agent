{
  "session_id": "test-session-001",
  "user_id": "test_user",
  "created_at": "2025-11-08T23:25:37.271355Z",
  "updated_at": "2025-11-08T23:25:41.107648Z",
  "state": {
    "user_input": "show me sales data",
    "user_id": "test_user",
    "session_id": "test-session-001",
    "timestamp": "2025-11-08T23:25:37.271344Z",
    "docs_meta": [
      {
        "table": "sample_customer_data",
        "description": "Customer master data including contact information and demographics",
        "business_context": "Contains customer profiles and contact details",
        "key_columns": {
          "customer_id": "Unique customer identifier",
          "name": "Customer full name",
          "email": "Customer email address",
          "phone": "Customer phone number",
          "city": "Customer city",
          "state": "Customer state",
          "join_date": "Date when customer registered"
        }
      },
      {
        "table": "sample_inventory_data",
        "description": "Product inventory levels and stock information",
        "business_context": "Tracks current stock levels and product details",
        "key_columns": {
          "product_id": "Unique product identifier",
          "product_name": "Name of the product",
          "category": "Product category",
          "quantity_in_stock": "Current available inventory",
          "reorder_level": "Minimum stock level before reordering",
          "unit_price": "Current selling price per unit",
          "supplier": "Supplier name"
        }
      },
      {
        "table": "sample_sales_data",
        "description": "Sales transactions data containing order information, products sold, pricing, and regional data",
        "business_context": "This table tracks all sales orders. Use 'price' column for sales amount/revenue. Use 'quantity' for units sold.",
        "key_columns": {
          "order_id": "Unique identifier for each order",
          "customer_id": "Reference to customer who placed the order",
          "product": "Name of the product sold",
          "category": "Product category (e.g., Electronics, Furniture)",
          "quantity": "Number of units sold",
          "price": "Price per unit (use this for sales amount/revenue calculations)",
          "order_date": "Date when the order was placed",
          "region": "Geographic region where the sale occurred (North, South, East, West)"
        }
      },
      {
        "type": "business_glossary",
        "glossary": {
          "sales_amount": "Use 'price' column from sample_sales_data",
          "revenue": "Use 'price' column from sample_sales_data",
          "total_sales": "SUM(price) from sample_sales_data",
          "units_sold": "Use 'quantity' column from sample_sales_data"
        }
      }
    ],
    "table_schema": {
      "sample_customer_data": {
        "columns": [
          {
            "name": "customer_id",
            "type": "VARCHAR"
          },
          {
            "name": "customer_name",
            "type": "VARCHAR"
          },
          {
            "name": "email",
            "type": "VARCHAR"
          },
          {
            "name": "country",
            "type": "VARCHAR"
          },
          {
            "name": "signup_date",
            "type": "VARCHAR"
          },
          {
            "name": "total_purchases",
            "type": "VARCHAR"
          },
          {
            "name": "customer_tier",
            "type": "VARCHAR"
          }
        ]
      },
      "sample_inventory_data": {
        "columns": [
          {
            "name": "product_id",
            "type": "VARCHAR"
          },
          {
            "name": "product_name",
            "type": "VARCHAR"
          },
          {
            "name": "category",
            "type": "VARCHAR"
          },
          {
            "name": "stock_quantity",
            "type": "VARCHAR"
          },
          {
            "name": "reorder_level",
            "type": "VARCHAR"
          },
          {
            "name": "unit_cost",
            "type": "VARCHAR"
          },
          {
            "name": "unit_price",
            "type": "VARCHAR"
          },
          {
            "name": "supplier",
            "type": "VARCHAR"
          }
        ]
      },
      "sample_sales_data": {
        "columns": [
          {
            "name": "order_id",
            "type": "VARCHAR"
          },
          {
            "name": "customer_id",
            "type": "VARCHAR"
          },
          {
            "name": "product",
            "type": "VARCHAR"
          },
          {
            "name": "category",
            "type": "VARCHAR"
          },
          {
            "name": "quantity",
            "type": "VARCHAR"
          },
          {
            "name": "price",
            "type": "VARCHAR"
          },
          {
            "name": "order_date",
            "type": "VARCHAR"
          },
          {
            "name": "region",
            "type": "VARCHAR"
          }
        ]
      }
    },
    "logs": [
      {
        "node": "invoke",
        "timestamp": "2025-11-08T23:25:37.266540Z",
        "msg": "invoke started"
      },
      {
        "node": "invoke",
        "timestamp": "2025-11-08T23:25:37.271334Z",
        "msg": "loaded schema for 3 tables, 4 metadata entries"
      },
      {
        "node": "planner",
        "timestamp": "2025-11-08T23:25:37.271930Z",
        "msg": "planning query"
      },
      {
        "node": "planner",
        "timestamp": "2025-11-08T23:25:41.106835Z",
        "msg": "plan generated: quality=high, control=execute, clarifications=0"
      },
      {
        "node": "execute",
        "timestamp": "2025-11-08T23:25:41.107634Z",
        "msg": "executing query"
      },
      {
        "node": "execute",
        "timestamp": "2025-11-08T23:25:41.107637Z",
        "msg": "DuckDB not installed",
        "level": "error"
      }
    ],
    "control": "end",
    "metrics": {
      "node_timings_ms": {
        "planner": 3834.932,
        "execute": 0.016
      },
      "total_ms": 0.0,
      "clarify_turns": 0,
      "start_time": "2025-11-08T23:25:37.266509Z",
      "plan_id": "4b746bb8e6646730"
    },
    "last_node": "execute",
    "parquet_location": "data/duckdb",
    "conversation_history": [],
    "plan": {
      "type": "sql_plan",
      "sql": "SELECT * FROM sample_sales_data ORDER BY order_date DESC LIMIT 10",
      "limits": {
        "preview_rows": 100
      },
      "target_table": "sample_sales_data"
    },
    "plan_quality": "high",
    "plan_explain": "This query retrieves sales data from the sample_sales_data table, which contains all sales orders including order_id, customer_id, product, category, quantity, price, order_date, and region. The results are ordered by order_date in descending order to show the most recent sales first, and limited to 10 records for initial display.",
    "clarification_questions": [],
    "execution_result": null,
    "execution_stats": {
      "error": "DuckDB not installed",
      "execution_time_ms": 0
    }
  }
}